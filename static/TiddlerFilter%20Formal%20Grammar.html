<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.0.14-beta" />
<meta name="format-detection" content="telephone=no">
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="static.css">
<title>TiddlyWiki â€” a non-linear personal web notebook</title>
</head>
<body class="tw-body">
<p><div class='tw-static-alert'><div class='tw-static-alert-inner'>This page is part of a static HTML representation of the TiddlyWiki at <a class='tw-tiddlylink-external' href='http://tiddlywiki.com/' target='_blank'>http://tiddlywiki.com/</a></div></div>
</p>
<section class="story-river">

<p><div class='tw-tiddler-frame tw-tiddler-view-frame tw-tiddler-exists   tw-tagged-dev'><div class='tw-tiddler-title'>
<h2 class='titlebar'>
<span class='tw-tiddler-controls'>
<span class=' tw-reveal' hidden='true'></span><span class=' tw-reveal'><button aria-label='info' class='' title='Show information for this tiddler'>


</button>
</span><span class=' tw-reveal' hidden='true'></span><span class=' tw-reveal'><button aria-label='edit' class='' title='Edit this tiddler'>


</button>
</span><span class=' tw-reveal' hidden='true'></span><span class=' tw-reveal' hidden='true'></span><span class=' tw-reveal' hidden='true'></span><span class=' tw-reveal'><button aria-label='close' class='' title='Close this tiddler'>


</button></span>
</span>

<span style='fill:;'>

</span>



<span class='title'>
TiddlerFilter Formal Grammar
</span>

</h2>

<div class='tw-tiddler-info tw-popup tw-reveal' hidden='true'></div>
</div><div class='tw-subtitle'>
<a class='tw-tiddlylink tw-tiddlylink-missing' href='.html'>

</a> 19 days ago
</div>
<div class='tw-tags-wrapper'><span class='tw-tag-list-item'>

<button class='btn-invisible tw-tag-label' style='background-color:#769ee1;'>
 dev
</button>

<span class=' tw-reveal' hidden='true'></span>
</span>
</div>

<div class='body'><p><a class='tw-tiddlylink tw-tiddlylink-resolves' href='TiddlerFilters.html'>TiddlerFilters</a> follow a formal grammar that is presented here for users who are familiar with the notation. It isn't necessary to understand this grammar in order to write your own filter expressions.</p><p><strong>&lt;filter-string&gt;</strong> ::= <strong>&lt;opt-whitespaces&gt;</strong> <strong>&lt;filter-operand&gt;</strong> | <strong>&lt;opt-whitespaces&gt;</strong> <strong>&lt;filter-operand&gt;</strong> <strong>&lt;filter-string&gt;</strong></p><p>Whitespace is matched with javascript &quot;\s+&quot;, which matches space, tab, carriage return, new line, vertical tab, and form feed.</p><p><strong>&lt;opt-whitespaces&gt;</strong> ::= <strong>&lt;opt-whitespace&gt;</strong> | <strong>&lt;opt-whitespace&gt;</strong> <strong>&lt;opt-whitespaces&gt;</strong></p><p><strong>&lt;opt-whitespace&gt;</strong> ::= &quot; &quot; | &quot;\t&quot; | &quot;0xD&quot; | &quot;0xA&quot; | &quot;0xB&quot; | &quot;0xC&quot;</p><p><strong>&lt;filter-operand&gt;</strong> ::= <strong>&lt;opt-operation-prefix&gt;</strong> <strong>&lt;string-or-operator-list&gt;</strong></p><p><strong>&lt;opt-operation-prefix&gt;</strong> ::= &quot;+&quot; | &quot;-&quot; | &quot;&quot;</p><p><strong>&lt;string-or-operator-list&gt;</strong> ::= <strong>&lt;operation&gt;</strong> | &quot;\&quot;&quot; <strong>&lt;string&gt;</strong> &quot;\&quot;&quot; | &quot;'&quot; <strong>&lt;string&gt;</strong> &quot;'&quot; | <strong>&lt;string&gt;</strong></p><p><strong>&lt;operation&gt;</strong> ::= &quot;[&quot; <strong>&lt;operator-list&gt;</strong> &quot;]&quot;</p><p><strong>&lt;operator-list&gt;</strong> ::= <strong>&lt;operator&gt;</strong> | <strong>&lt;operator&gt;</strong> <strong>&lt;operator-list&gt;</strong></p><p><strong>&lt;operator&gt;</strong> ::= <strong>&lt;opt-operator-prefix&gt;</strong><strong>&lt;operator&gt;</strong><strong>&lt;operand&gt;</strong></p><p><strong>&lt;opt-operator-prefix&gt;</strong> ::= &quot;!&quot; | &quot;&quot;</p><p><strong>&lt;operator&gt;</strong> ::= <strong>&lt;operator-name&gt;</strong> | <strong>&lt;operator-name&gt;</strong> &quot;:&quot; <strong>&lt;opt-operator-suffix&gt;</strong></p><p><strong>&lt;operator-name&gt;</strong> ::= &quot;&quot; | &quot;is&quot; | &quot;has&quot; | &quot;each&quot; | &quot;field&quot; ...</p><p><strong>&lt;opt-operator-suffix&gt;</strong> ::= <strong>&lt;string&gt;</strong> | &quot;&quot;</p><p><strong>&lt;operand&gt;</strong> ::= &quot;[&quot; <strong>&lt;search-string&gt;</strong> &quot;]&quot; | &quot;{&quot; <strong>&lt;indirect-search-string&gt;</strong> &quot;}&quot; | &quot;&lt;&quot; <strong>&lt;variable-name-string&gt;</strong> &quot;&gt;&quot; | <strong>&lt;regex&gt;</strong></p><p><strong>&lt;regex&gt;</strong> ::= &quot;/&quot; <strong>&lt;string&gt;</strong> &quot;/&quot; <strong>&lt;opt-regex-args&gt;</strong></p><p><strong>&lt;opt-regex-args&gt;</strong> ::= &quot;(&quot; <strong>&lt;regex-args&gt;</strong> &quot;)&quot; | &quot;&quot;</p><p><strong>&lt;regex-args&gt;</strong> ::= <strong>&lt;regex-arg&gt;</strong> | <strong>&lt;regex-arg&gt;</strong> <strong>&lt;regex-args&gt;</strong></p><p><strong>&lt;regex-arg&gt;</strong> ::= &quot;m&quot; | &quot;y&quot; | &quot;g&quot; | &quot;i&quot;</p><p><strong>&lt;string&gt;</strong> ::= <strong>&lt;string-type-1&gt;</strong> | <strong>&lt;string-type-2&gt;</strong> | ...</p><p>At the end of parsing you end up with some or all of: </p><ul><li><strong>&lt;opt-operation-prefix&gt;</strong></li><li><strong>&lt;opt-operator-prefix&gt;</strong></li><li><strong>&lt;operator-name&gt;</strong></li><li><strong>&lt;opt-operator-suffix&gt;</strong>, and </li><li><strong>&lt;operand&gt;</strong></li></ul><p>These are used differently by the different operators. For example, the field filter operator supports:</p><ul><li><strong>&lt;opt-operator-prefix&gt;</strong> to negate the result</li><li><strong>&lt;regex&gt;</strong> or <strong>&lt;string&gt;</strong> operand (note that this must be explicitly supported by each filter operator)</li><li><strong>&lt;opt-operator-suffix&gt;</strong> to specify a fieldname against which to filter</li></ul><p>NOTES:</p><ul><li>The <strong>&lt;string&gt;</strong> is a terminal that generally supports single- or double- quoted strings which match, respectively, strings of non-single and non-double quotes. Unquoted strings include the extra exclusion of whitespace and square bracket characters.</li><li>In the case where the <strong>&lt;string-or-operator-list&gt;</strong> is NOT an <strong>&lt;operation&gt;</strong> it is treated as the operand passed to the default operator (see next bullet). It is not parsed as a full <strong>&lt;operation&gt;</strong>.</li><li>If <strong>&lt;operator-name&gt;</strong> is the empty string then it will be set to &quot;title&quot; (i.e. the title filter operator is the default operator)</li><li>Results are collected and each operation is applied in turn. The <strong>&lt;opt-operation-prefix&gt;</strong> can be used to specify how the corresponding operation is used. Suppose T is the set of all tiddlers, R0 is the current set of results, and Fx is the xth operation. Then:<ul><li>No prefix (&quot;&quot;): R0 = R0 U Fx(T) (set union)</li><li>&quot;-&quot;: R0 = R0 - Fx(T) (set difference)</li><li>&quot;+&quot;: R0 = Fx(R0)</li></ul></li></ul><p>Note that <strong>&lt;filter-operand&gt;</strong>s are not commutative!</p><ul><li>The parser was simplified by treating regex &quot;/&quot; as a &quot;bracket&quot; of sorts, meaning there could only be a start and end bracket. Thus the regex arguments, like i, are included in parenthesis immediately following the trailing &quot;/&quot;.</li></ul></div>



</div>

</p>

</section>
</body>
</html>
