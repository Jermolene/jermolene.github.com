<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.0.0-alpha.13" />
<meta name="format-detection" content="telephone=no">
<link rel="stylesheet" href="static.css">
<title>TiddlyWiki5 â€” a non-linear personal web notebook</title>
</head>
<body class="tw-body">
<p><div class='tw-static-alert'>This page is part of a static HTML representation of the TiddlyWiki at <a class='tw-tiddlylink-external' href='http://five.tiddlywiki.com/' target='_blank'>http://five.tiddlywiki.com/</a></div>
</p>
<section class="story-river">
<p><div class='tw-tiddler-frame tw-tiddler-exists  '><div class='tw-tiddler-title'><div class='titlebar'><span class='tw-tiddler-controls'><button class='btn-invisible'><svg class='tw-image-info-button' height='22pt' viewBox='294 150 58 58' width='22pt'><path d='M 342.76236 158.98764 C 331.77887 148.0041 313.97113 148.0041 302.98764 158.98764 C 292.0041 169.97113 292.0041 187.77887 302.98764 198.76236 C 313.97113 209.7459 331.77887 209.7459 342.76236 198.76236 C 353.7459 187.77887 353.7459 169.97113 342.76236 158.98764 M 326.5425 157.5 L 326.5425 157.5 C 327.72545 157.5 328.72201 157.91022 329.5337 158.73088 C 330.34465 159.55157 330.75 160.54402 330.75 161.7075 C 330.75 162.87172 330.33979 163.86316 329.51911 164.68385 C 328.69842 165.5045 327.70674 165.91501 326.5425 165.91501 C 325.39801 165.91501 324.4153 165.5045 323.5946 164.68385 C 322.77393 163.86316 322.36372 162.87172 322.36372 161.7075 C 322.36372 160.54402 322.76906 159.55157 323.58 158.73088 C 324.39171 157.91022 325.3793 157.5 326.5425 157.5 Z M 327.80211 190.47259 C 324.91945 195.49132 321.85778 198 318.61462 198 C 317.37452 198 316.38691 197.65158 315.65186 196.9555 C 314.9176 196.25866 314.54943 195.37617 314.54943 194.30782 C 314.54943 193.60202 314.71223 192.70572 315.03629 191.61813 L 319.0151 177.93651 C 319.39685 176.61922 319.58735 175.62754 319.58735 174.95991 C 319.58735 174.53996 319.40582 174.16692 319.04356 173.84286 C 318.68052 173.51905 318.18469 173.35701 317.55527 173.35701 C 317.26861 173.35701 316.92506 173.36677 316.5246 173.38548 L 316.89661 172.2407 L 326.59967 170.66627 L 328.31744 170.66627 L 322.44986 191.01638 C 322.12503 192.18064 321.963 192.94337 321.963 193.30666 C 321.963 193.51588 322.04862 193.71121 322.2204 193.89273 C 322.39218 194.07425 322.5737 194.16554 322.7642 194.16477 C 323.08903 194.16554 323.4131 194.02221 323.73792 193.73559 C 324.59605 193.02976 325.6267 191.75142 326.82838 189.90008 Z'></path></svg>
</button><button class='btn-invisible'><svg class='tw-image-edit-button' height='22pt' viewBox='244 193 20 22' width='20pt'><path d='M 257.33334 196.80951 L 245.90476 207.2857 L 244 212.0476 L 248.7619 210.14284 L 260.19048 199.66665 Z M 259.2381 194.90475 L 258.28566 195.85716 L 261.14284 198.71428 L 262.09522 197.76187 Z M 261.14286 193 L 260.19042 193.95241 L 263.04762 196.80953 L 264 195.85714 Z M 244 213.72882 C 244 213.72882 247.4281 215.43353 250.8572 213.7288 C 254.28599 212.02405 261.14284 214.86531 261.14284 214.86531 L 261.14284 213.72884 C 261.14284 213.72884 254.28577 210.88755 250.8572 212.5923 C 247.42858 214.29712 244 212.59228 244 212.59228 Z'></path></svg>
</button><button class='btn-invisible'><svg class='tw-image-close-button' height='22pt' viewBox='222 150 56 56' width='22pt'><path d='M 249.56668 185.88827 L 267.06757 203.38916 C 269.26427 205.58586 272.82582 205.58586 275.02252 203.38916 L 275.02252 203.38916 C 277.21922 201.19246 277.21922 197.63091 275.02252 195.43421 L 257.52163 177.93332 L 275.38916 160.06579 C 277.58586 157.86909 277.58586 154.30754 275.38916 152.11084 C 273.19246 149.91414 269.63091 149.91414 267.43421 152.11084 L 249.56668 169.97837 L 232.06579 152.47748 L 232.06579 152.47748 C 232.06579 152.47748 232.06579 152.47748 232.06579 152.47748 C 229.86909 150.28078 226.30754 150.28078 224.11084 152.47748 L 224.11084 152.47748 C 221.91414 154.674175 221.91414 158.23573 224.11084 160.43243 L 241.61173 177.93332 L 224.47748 195.06757 L 224.47748 195.06757 L 224.47748 195.06757 C 224.47748 195.06757 224.47748 195.06757 224.47748 195.06757 C 222.28078 197.26427 222.28078 200.82583 224.47748 203.02252 L 224.47748 203.02252 C 226.67418 205.21922 230.23573 205.21922 232.43243 203.02252 Z'></path></svg>
</button>

</span><span style='fill:;'></span> <span class='title'>WidgetModules</span></div>

<div class='tw-tiddler-info tw-reveal' hidden='true'></div></div><div class='tw-subtitle'><a class=' tw-tiddlylink tw-tiddlylink-missing' href='.html'></a> 8 days ago</div>
<div class='tw-tags-wrapper'><span class='tw-tag-list-item'><button class='btn-invisible tw-tag-label' style='background-color:#e37a61;'> dev</button>
<span class=' tw-reveal' hidden='true'></span></span>
<span class='tw-tag-list-item'><button class='btn-invisible tw-tag-label' style='background-color:;'> moduletypes</button>
<span class=' tw-reveal' hidden='true'></span></span>
</div>
<div class='body'><h1 class=''>Introduction</h1><p>Widget modules are used as part of the <a class=' tw-tiddlylink tw-tiddlylink-resolves' href='RenderingMechanism.html'>RenderingMechanism</a> to implement each type of renderable entity. As well as the widgets that are familiar to end users, the following primitives are also implemented as widgets:</p><ul><li>HTML text nodes</li><li>HTML element nodes</li><li>HTML entities</li></ul><p>All widgets inherit from a base widget class that is defined in <a class=' tw-tiddlylink tw-tiddlylink-shadow' href='%2524%253A%252Fcore%252Fmodules%252Fwidgets%252Fwidget.js.html'>$:/core/modules/widgets/widget.js</a>.</p><h1 class=''>Widget Properties</h1><p>The following widget properties are defined by the core. The lifecycle of a widget object is largely a matter of maintaining the consistency of these internal properties in the face of external state changes. Individual widgets usually add their own additional properties too.</p><table><tbody><tr class='evenRow'><th align='left'>Name</th><th align='left'>Description</th></tr><tr class='oddRow'><td align='left'><strong>parseTreeNode</strong></td><td align='left'>Reference to the parse tree node corresponding to this widget</td></tr><tr class='evenRow'><td align='left'><strong>wiki</strong></td><td align='left'>Reference to the <a class=' tw-tiddlylink tw-tiddlylink-resolves' href='Wiki.html'>Wiki</a> object associated with this widget</td></tr><tr class='oddRow'><td align='left'><strong>variables</strong></td><td>Hashmap of information about each <a class=' tw-tiddlylink tw-tiddlylink-missing' href='WidgetVariables.html'>widget variable</a> (see below)</td></tr><tr class='evenRow'><td align='left'><strong>parentWidget</strong></td><td align='left'>Reference to the parent widget</td></tr><tr class='oddRow'><td align='left'><strong>document</strong></td><td align='left'>Reference to the document object associated with this widget. Usually either the browser global <code>document</code> variable or a reference to the <a class=' tw-tiddlylink tw-tiddlylink-missing' href='FakeDomMechanism.html'>FakeDomMechanism</a>'s <code>$tw.document</code></td></tr><tr class='evenRow'><td align='left'><strong>attributes</strong></td><td align='left'>Hashmap of information about each attribute attached to this widget (see below)</td></tr><tr class='oddRow'><td align='left'><strong>children</strong></td><td align='left'>Array of child widgets</td></tr><tr class='evenRow'><td align='left'><strong>domNodes</strong></td><td align='left'>For widgets that directly generate DOM nodes, an array of the generated nodes</td></tr><tr class='oddRow'><td align='left'><strong>eventListeners</strong></td><td align='left'>Array of event listener definitions</td></tr></tbody></table><h2 class=''>Widget Variables</h2><p>The widget variables defined on a widget are stored in a hashmap of the variable name. The hashmap contains:</p><ul><li><code>name</code>: name of variable</li><li><code>params</code>: array of parameters for macro definitions, each <code>{name: &quot;&lt;name&gt;&quot;, default: &quot;&lt;optionaldefault&gt;&quot;}</code></li><li><code>value</code>: string value of variable</li></ul><h2 class=''>Widget Attributes</h2><p>The widget attributes associated with a widget are stored in a hashmap of the attribute name. The hashmap contains an object that describes the attribute value. Currently three attribute value types are supported:</p><ul><li>Strings: <code>{type: &quot;string&quot;, value: &quot;&lt;value&gt;&quot;}</code></li><li>Tiddler text reference indirection: <code>{type: &quot;indirect&quot;, textReference: &quot;&lt;textref&gt;&quot;}</code></li><li>Macro invocation: <code>{type: &quot;macro&quot;, value: {name: &quot;&lt;macroname&gt;&quot;, params: [{name: &quot;&lt;paramname&gt;&quot;, value: &quot;&lt;paramvalue&gt;&quot;}, ... ]}</code></li></ul><h2 class=''>Widget Event Listeners</h2><p>The event listeners attached to a widget are stored as a hashmap by event type. Each value is a handler function that accepts a single <code>event</code> parameter.</p><h1 class=''>Widget methods</h1><p>The individual methods defined by the widget object are documented in the source code of <a class=' tw-tiddlylink tw-tiddlylink-shadow' href='%2524%253A%252Fcore%252Fmodules%252Fwidgets%252Fwidget.js.html'>$:/core/modules/widgets/widget.js</a>. Here we give an overview of the overall lifecycle, and how the methods fit together</p><h2 class=''>Widget <code>initialise</code> method</h2><h2 class=''>Widget <code>widgetClasses</code> method</h2><h2 class=''>Widget <code>render</code> method</h2><h2 class=''>Widget <code>execute</code> method</h2><h2 class=''>Widget <code>getVariable</code> method</h2><h2 class=''>Widget <code>substituteVariableParameters</code> method</h2><h2 class=''>Widget <code>substituteVariableReferences</code> method</h2><h2 class=''>Widget <code>evaluateMacroModule</code> method</h2><h2 class=''>Widget <code>setVariable</code> method</h2><h2 class=''>Widget <code>hasVariable</code> method</h2><h2 class=''>Widget <code>getStateQualifier</code> method</h2><h2 class=''>Widget <code>computeAttributes</code> method</h2><h2 class=''>Widget <code>hasAttribute</code> method</h2><h2 class=''>Widget <code>getAttribute</code> method</h2><h2 class=''>Widget <code>assignAttributes</code> method</h2><h2 class=''>Widget <code>makeChildWidgets</code> method</h2><h2 class=''>Widget <code>makeChildWidget</code> method</h2><h2 class=''>Widget <code>renderChildren</code> method</h2><h2 class=''>Widget <code>addEventListeners</code> method</h2><h2 class=''>Widget <code>addEventListener</code> method</h2><h2 class=''>Widget <code>dispatchEvent</code> method</h2><h2 class=''>Widget <code>refresh</code> method</h2><h2 class=''>Widget <code>refreshSelf</code> method</h2><h2 class=''>Widget <code>refreshChildren</code> method</h2><h2 class=''>Widget <code>findNextSiblingDomNode</code> method</h2><h2 class=''>Widget <code>findFirstDomNode</code> method</h2><h2 class=''>Widget <code>removeChildDomNodes</code> method</h2></div>
</div>

</p>
</section>
</body>
</html>
