<!doctype html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.0.0-alpha.9" />
<meta name="format-detection" content="telephone=no">
<link rel="stylesheet" href="static.css">
<title>TiddlyWiki5 â€” a non-linear personal web notebook</title>
</head>
<body>
<section class="story-river">
<div class="tw-tiddler-frame">
<span class='tw-tiddler-controls'>
<p>
<button class='tw-button btn-invisible'>
<span class='tw-transclude'>
<img src='data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%3F%3E%0A%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%0A%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axl%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20viewBox%3D%22244%20193%2020%2022%22%20width%3D%2220pt%22%20height%3D%2222pt%22%3E%3Cg%20stroke%3D%22none%22%20stroke-opacity%3D%221%22%20stroke-dasharray%3D%22none%22%20fill%3D%22none%22%20fill-opacity%3D%221%22%3E%3Cg%3E%3Ctitle%3EBody%3C%2Ftitle%3E%3Cpath%20d%3D%22M%20257.33334%20196.80951%20L%20245.90476%20207.2857%20L%20244%20212.0476%20L%20248.7619%20210.14284%20L%20260.19048%20199.66665%20Z%20M%20259.2381%20194.90475%20L%20258.28566%20195.85716%20L%20261.14284%20198.71428%20L%20262.09522%20197.76187%20Z%20M%20261.14286%20193%20L%20260.19042%20193.95241%20L%20263.04762%20196.80953%20L%20264%20195.85714%20Z%20M%20244%20213.72882%20C%20244%20213.72882%20247.4281%20215.43353%20250.8572%20213.7288%20C%20254.28599%20212.02405%20261.14284%20214.86531%20261.14284%20214.86531%20L%20261.14284%20213.72884%20C%20261.14284%20213.72884%20254.28577%20210.88755%20250.8572%20212.5923%20C%20247.42858%20214.29712%20244%20212.59228%20244%20212.59228%20Z%22%20fill%3D%22%23ccc%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A'>
</span></button>
<button class='tw-button btn-invisible'>
<span class='tw-transclude'>
<img src='data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%3F%3E%0A%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%0A%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axl%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20viewBox%3D%22222%20150%2056%2056%22%20width%3D%2222pt%22%20height%3D%2222pt%22%3E%3Cg%20stroke%3D%22none%22%20stroke-opacity%3D%221%22%20stroke-dasharray%3D%22none%22%20fill%3D%22none%22%20fill-opacity%3D%221%22%3E%3Cg%3E%3Cpath%20d%3D%22M%20249.56668%20185.88827%20L%20267.06757%20203.38916%20C%20269.26427%20205.58586%20272.82582%20205.58586%20275.02252%20203.38916%20L%20275.02252%20203.38916%20C%20277.21922%20201.19246%20277.21922%20197.63091%20275.02252%20195.43421%20L%20257.52163%20177.93332%20L%20275.38916%20160.06579%20C%20277.58586%20157.86909%20277.58586%20154.30754%20275.38916%20152.11084%20C%20273.19246%20149.91414%20269.63091%20149.91414%20267.43421%20152.11084%20L%20249.56668%20169.97837%20L%20232.06579%20152.47748%20L%20232.06579%20152.47748%20C%20232.06579%20152.47748%20232.06579%20152.47748%20232.06579%20152.47748%20C%20229.86909%20150.28078%20226.30754%20150.28078%20224.11084%20152.47748%20L%20224.11084%20152.47748%20C%20221.91414%20154.674175%20221.91414%20158.23573%20224.11084%20160.43243%20L%20241.61173%20177.93332%20L%20224.47748%20195.06757%20L%20224.47748%20195.06757%20L%20224.47748%20195.06757%20C%20224.47748%20195.06757%20224.47748%20195.06757%20224.47748%20195.06757%20C%20222.28078%20197.26427%20222.28078%20200.82583%20224.47748%20203.02252%20L%20224.47748%20203.02252%20C%20226.67418%20205.21922%20230.23573%20205.21922%20232.43243%20203.02252%20Z%22%20fill%3D%22%23ccc%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A'>
</span></button>
</p></span><span class='title'>
<span>
PluginMechanism</span></span><p>
<div class='small'>
<span class='tw-view-link'>
<a class='tw-tiddlylink tw-tiddlylink-internal tw-tiddlylink-missing' href='.html'>
</a></span> <span class='tw-view-date'>
</span></div></p><p>
<div class='tw-tags-wrapper'>
<span class='tw-list-frame'>
<span class='tw-list-element'>
<span class='tw-transclude'>
<button class='tw-button btn-invisible'>
<span class='tw-tag-label' style='background-color:#8080FF'>
<span>
docs</span></span></button>
<div class='tw-reveal tw-popup' style='position:absolute;display:none;'>
</div>
</span></span><span class='tw-list-element'>
<span class='tw-transclude tw-tiddler-missing'>
<button class='tw-button btn-invisible'>
<span class='tw-tag-label' style='background-color:'>
<span>
mechanism</span></span></button>
<div class='tw-reveal tw-popup' style='position:absolute;display:none;'>
</div>
</span></span></span></div></p><div class='body'>
<div>
<div class='tw-transclude'>
<p>
<a class='tw-tiddlylink tw-tiddlylink-internal tw-tiddlylink-resolves' href='Plugins.html'>
Plugins</a> are bundles of tiddlers that are distributed and managed as a single unit by being packed into a single JSON tiddler. If a tiddler isn't found in the main store, then the loaded plugins are searched for it instead.</p><p>
Tiddlers within plugins behave something like shadow tiddlers in classic <a class='tw-tiddlylink tw-tiddlylink-internal tw-tiddlylink-resolves' href='TiddlyWiki.html'>
TiddlyWiki</a>: they can be freely overwritten by creating a tiddler with the same title, but deleting that tiddler restores the underlying tiddler value from the plugin.</p><p>
Plugins conventionally have a title of the form <code>
$:/plugins/publisher/name</code>. Plugins that are part of the core <a class='tw-tiddlylink tw-tiddlylink-internal tw-tiddlylink-resolves' href='TiddlyWiki.html'>
TiddlyWiki</a> distribution have titles of the form <code>
$:/plugins/tiddlywiki/name</code>.</p><p>
Plugins that define macros, views or other named entities are expected to prefix the name with their publisher identifier, for example: <code>
tiddlytools.slider</code>.</p><h1 class=''>
Plugin format</h1><p>
Plugins are stored as tiddlers of type <code>
application/json</code> with the field <code>
plugin</code> present and the text containing a JSON structure encoding the plugin metadata and the list of tiddlers within it.</p><p>
The JSON structure for plugin tiddlers is as follows:</p><pre>
{
	&quot;title&quot;: &quot;$:/plugins/publisher/name&quot;,
	&quot;description&quot;: &quot;An exemplary plugin for demonstration purposes&quot;,
	&quot;author&quot;: &quot;JeremyRuston&quot;,
	&quot;version&quot;: &quot;1.2.3-alpha3&quot;,
	&quot;coreVersion&quot;: &quot;&gt;=5.0.0&quot;,
	&quot;source&quot;: &quot;http://tiddlywiki.com/MyPlugin&quot;,
	&quot;tiddlers&quot;: {
		&quot;title1&quot;: {&quot;type&quot;: &quot;image/png&quot;, &quot;text&quot;: &quot;&lt;base64&gt;&quot;},
		&quot;title2&quot;: {&quot;text&quot;: &quot;Text&quot;}
	}
}</pre><p>
The titles of the individual tiddlers within a plugin are automatically prefixed with the title of the plugin itself and a slash <code>
/</code>. Thus, in the example above the two tiddlers within the plugin will have the titles <code>
$:/plugins/publisher/name/title1</code> and <code>
$:/plugins/publisher/name/title2</code>.</p><h1 class=''>
Plugin folders</h1><p>
On the server, plugins can be stored as ordinary JSON tiddlers but it is often more convenient to store them as separate tiddler files within folders. Plugin folders must contain a <code>
plugin.bundle</code> file that contains the metadata for the plugin. It can also optionally identify files external to the plugin folder that should be loaded as tiddlers.</p><p>
The <code>
plugin.bundle</code> file should contain the following JSON structure:</p><pre>
{
	&quot;metadata&quot;: {
		&lt;as described above&gt;
	},
	&quot;externalTiddlers&quot;: [
		{&quot;file&quot;: &quot;../MyFile.png&quot;, &quot;fields&quot;: {&quot;title&quot;: &quot;MyTitle&quot;, &quot;type&quot;: &quot;image/png&quot;}},
		{&quot;file&quot;: &quot;../MyFile.txt&quot;, &quot;fields&quot;: {&quot;title&quot;: &quot;MyTitle2&quot;}}
	]
}</pre><p>
The titles of the external tiddlers are again relative to the title of the plugin. Constituent tiddler files must specify the full title of the tiddler, including the name of the plugin.</p><h1 class=''>
Plugin library</h1><p>
The standard distribution of <a class='tw-tiddlylink tw-tiddlylink-internal tw-tiddlylink-resolves' href='TiddlyWiki.html'>
TiddlyWiki</a> includes a number of standard plugins in the <code>
plugins</code> directory.</p><h1 class=''>
Including plugins in a wiki</h1><p>
To be usable in the browser, plugins just need to be included in the wiki. This is done when the wiki is generated on the server.</p><p>
A folder containing an exploded <a class='tw-tiddlylink tw-tiddlylink-internal tw-tiddlylink-resolves' href='TiddlyWiki.html'>
TiddlyWiki</a> can contain a <code>
tiddlywiki.info</code> file that identifies the plugins to be included in this wiki:</p><pre>
{
	&quot;plugins&quot;: [
		&quot;slider&quot;,
		&quot;chooser&quot;,
		&quot;tiddlytools/superslider&quot;,
		&quot;../../myplugins/specialone&quot;,
		&quot;/mylib/another&quot;,
	]
}</pre><p>
Plugins can be identified in several ways:</p><ul>
<li>
Names that do not contain a slash are interpreted as the name of a <a class='tw-tiddlylink tw-tiddlylink-internal tw-tiddlylink-resolves' href='TiddlyWiki.html'>
TiddlyWiki</a> core plugin (ie, <code>
$:/plugins/tiddlywiki/&lt;name&gt;</code>)</li><li>
Names that start with a slash or dot are interpreted as pathnames to a plugin file or folder</li><li>
Names that contain a single slash that is not at the start or end are interpreted as names of plugins from the core plugin library (ie, <code>
$:/plugins/&lt;publisher/name&gt;</code>)</li></ul><p>
Plugins can also be included manually by copying them into the <code>
plugins</code> subfolder of the wiki.</p><h1 class=''>
Plugin processing</h1><p>
The wiki object keeps track of all of the currently loaded plugins. If a request for a tiddler isn't in the store then the wiki looks through the cascade of plugins to find the requested tiddler. It is a similar idea to the way that shadow tiddlers are implemented in classic <a class='tw-tiddlylink tw-tiddlylink-internal tw-tiddlylink-resolves' href='TiddlyWiki.html'>
TiddlyWiki</a>.</p><p>
In the browser, any constituent tiddlers that are static styles (ie shadow tiddlers of content type <code>
text/css</code>) or <a class='tw-tiddlylink tw-tiddlylink-internal tw-tiddlylink-missing' href='JavaScript.html'>
JavaScript</a> modules (ie shadow tiddlers of content type <code>
application/javascript</code> and possessing the field <code>
module-type</code>) are added to the DOM during startup processing.
</p></div></div></div>
</div>
</section>
</body>
</html>
